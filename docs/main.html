<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>뿅뿅 지구오락실</title>
    <script src="https://code.jquery.com/jquery-3.7.1.js"></script>
    <link rel="stylesheet" href="css/master.css" type="text/css">
</head>
<body id="main">
    <div id="menu-btn"><a href="#">MENU</a></div>
    <nav id="gnb">
        <h2>Configure</h2>
        <ul class="main-menu">
            <li><a href="index.html">HOME</a></li>
            <li><a href="#">INTRO</a></li>
            <li><a href="#prologue">PROLOGUE</a></li>
            <li><a href="#episode">EPISODE</a></li>
            <li><a href="#characters">CHARACTERS</a></li>
            <li><a href="#gallery">GALLERY</a></li>
        </ul>
        <div class="sub-url">
            <p><a href="#">POPUP STORE</a></p>
            <p><a href="#">MOBILE GAME</a></p>
        </div>
    </nav>
    <div id="contents">
        <!-- <section class="video-container" id="intro">
            <div class="video-box">
                <video src="images/video/opening_title.mp4" autoplay muted></video>
            </div>
            <div class="skip-btn"><a href="#">>> SKIP</a></div>
        </section> -->
        <section class="prologue-container" id="prologue">
            <div class="prologue-bg">
                <div class="object01"></div>
                <div class="object02"></div>
                <div class="object03"></div>
                <div class="object04"></div>
                <div class="object05"></div>
                <div class="object06"></div>
                <div class="object07"></div>
                <div class="object08"></div>
                <div class="object09"></div>
                <div class="object10"></div>
            </div>
            <div class="prologue-box">
                <div class="logo"><img src="images/3Dlogo.png" alt="뿅뿅 지구오락실"></div>
                <p>
                    우리에겐 보이지 않는 달의 뒷면, 그곳에 자리 잡은 신상 핫플 '우주 떡집'<br>
                    1광년 웨이팅은 기본, 연이은 떡 품절 대란으로 떡집 사장 ‘옥황상제’의 기분은 연일 최고조다.
                </p>            
                <p>
                    사실 우주 떡집에는 매출 일등 공신이 있었으니, 다름 아닌 우수 사원 '옥 암스토롱 (a.k.a 토롱이)'<br>
                    "잘 키운 토롱이 하나가 열 직원 안 부럽다!"<br>
                    떡집 청결 관리부터 수·금·지·화 퀵 배송까지, 일당백 토롱이 덕에 떡집은 나날이 번창하는데...
                </p>
                <p>
                    그러던 어느 날, 옥황상제 앞으로 날아온 사표 한 장?!<br>
                    「옥토롱, 그만두겟습니당」
                </p>
                <p>
                    지구로 도망간 달나라 토끼를 잡기 위해 옥황의 불음에 뭉친 4 명의 용사들!<br>
                    시공간을 넘나들며 펼쳐지는 신개념 하이브리드 멀티버스 액션 어드벤처 버라이어티가 시작된다! 뿅
                </p>
            </div>
        </section>
        <section class="episode-container" id="episode">
            <div class="episode-inner">
                <div class="episode-flex">
                    <div class="episode-box episode1">
                        <div class="episode-bg">
                            <div class="object01"></div>
                            <div class="object02"></div>
                            <div class="object03"><p>2022</p></div>
                        </div>
                        <div class="description">
                            <h2>EPISODE 1</h2>
                            <p>
                                쉴 틈 없는 떡방아와 잦은 야근으로 과로에 시달리던 토롱이는 결국 지구로 현생 탈출을 감행, 정열과 낭만의 나라 '태국'으로 토끼고 만다.<br>
                                밀린 떡 주문과 함께 분노한 옥황상제, 인★ 라이브를 켜 팔로워들에게 전하길<br>
                                "토롱이를 잡아 오는 자에게 현상금을 주겠노라!"<br>
                                이에 ‘영앤골치’ 지구 용사 4인이 뭉치게 된다.<br>
                                토낀 토롱이의 현상금을 노리는 지구 용사 넷, 태국에서 꿀휴양 중인 토롱이를 잡아 옥황상제의 곁으로 돌려보낼 수 있을지?
                            </p>
                        </div>
                    </div>
                    <div class="episode-box episode2">
                        <div class="episode-bg">
                            <div class="object01"></div>
                            <div class="object02"></div>
                            <div class="object03"><p>2023</p></div>
                        </div>
                        <div class="description">
                            <h2>EPISODE 2</h2>
                            <p>
                                지난여름, 자유를 꿈꿨던 떡집 알바생 토롱은 지구 용사들에게 잡혀 현생으로 귀환했다.<br>
                                그러나 사장 옥황의 “라떼는~” 타령과 떡켓팅 열풍으로 털 빠질듯한 과로는 여전했는데...<br>
                                토롱이 묘(卯)생을 한탄하며 다시 한번 ‘현생탈출염원기도’를 올리는 순간! 한 마리, 두 마리... 점점 늘어나는 토롱이들?!<br>
                                제대로 킹(?) 받는 묘술을 얻게 된 토롱이는 지구 요리 조리로 무작정 토껴버린다.<br>
                                <br>
                                무려 두 번째 탈출에 격분한 옥황은 [옥토롱 현상금 파격 인상]을 발표! 이에 경력직 지구 용사 4인방이 다시 한번 뭉쳤다!<br>

                                “북극 찍고, 적도 끝까지 쫓아간다!”<br>
                                전 세계를 누비는 어메이징 스케일, 겨울왕국 ‘핀란드’ 그리고 신들의 섬 ‘발리’에서 지구 용사즈의 예측 불허 대모험이 펼쳐진다.
                            </p>
                        </div>
                    </div>
                    <div class="episode-box episode3">
                        <div class="episode-bg">
                            <div class="object01"></div>
                            <div class="object02"></div>
                            <div class="object03"><p>2025</p></div>
                        </div>
                        <div class="description">
                            <h2>EPISODE 3</h2>
                            <p>
                                반복되는 현생 탈출 실패로 지난 2년간 귀 빠지게 떡만 만든 토롱이...<br>
                                묘(卯)생사 포기란 없다! 큰 거 한 방 노린다며 천 년 만에 열린 우주 휴게소 회식에서 무려 사장 옥황의 ‘법인 카드’를 훔쳐 토껴버린다!<br>
                                띠링♪ 띠리링♬
                                , 실시간으로 울려대는 옥황 핸드폰의 결제 알림 문자에, 결국 토롱이는 꼬리를 밟히게 된다.<br>

                                옥황은 급하게 지구 용사 4인방을 소집한 한편, 이를 도울 'NEW 조력자'를 전격 투입하는데...<br>

                                황금빛 사막 ‘아부다비’와 낭만의 나라 '포르투갈'로 신입 스파이 4인방!<br>
                                그리고 최정예 특수 요원, '에이전트F'가 용사즈와 극비리에 접선을 시도하면서 우주 최초 ★합동 톢별 수사 작전★이 펼쳐진다.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <section class="characters-container" id="characters">
            <h3>CHOOSE CHARACTER!</h3>
            <div class="characters-box">
                <div class="character-info">
                    <a id="close-btn" href="#">< BACK</a>
                    <div class="character1">
                        <div class="ch-img">
                            <img src="images/character/member1_1.jpg" alt="시즌1 이은지">
                            <img src="images/character/member1_2.jpg" alt="시즌2 이은지">
                            <img src="images/character/member1_3.jpg" alt="시즌3 이은지">
                        </div>
                        <div class="ch-description">
                            <p class="ch-name">이은지</p>
                            <p>소속: 우주 용사</p>
                            <p>특징: 끼폭발 용사</p>
                            <p class="ch-highlight">멀리서 보면 ‘희극’, 가까이서 보면 ‘광기’</p>
                            <div class="ch-story">
                                <p>
                                    희극인의 몸 안에 갇힌 댄서의 영혼!<br>
                                    넘치는 끼를 자제할 생각이 없는 방송댄스 전문(?) 톱 티어 코미디언.
                                </p>
                                <p>카리스마 넘치는 오락실 짱을 꿈꾸지만, 현실은 동생들에게 혼나기 일쑤</p>
                                <p>
                                    하지만 언제 어디서든 타고난 센스와 순발력으로 카멜레온과 같이 완벽 위장 가능하며 드라마보다 더 드라마틱한 예능력으로 어떤 임무든 막장급 전개 펼치며 EASY~하게 해결
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="character2">
                        <div class="ch-img">
                            <img src="images/character/member2_1.jpg" alt="시즌1 이은지">
                            <img src="images/character/member2_2.jpg" alt="시즌2 이은지">
                            <img src="images/character/member2_3.jpg" alt="시즌3 이은지">
                        </div>
                        <div class="ch-description">
                            <p class="ch-name">미미</p>
                            <p>소속: 우주 용사</p>
                            <p>특징: 엉뚱발랄 용사</p>
                            <p class="ch-highlight">상황 불문 ‘리얼 긍정 파워 빔’</p>
                            <div class="ch-story">
                                <p>
                                    아이스크림만 있으면 초긍정 모드 ON!<br>
                                    세상 무해한 인간미와 탈 지구급 친화력으로 동물들의 마음까지 훔친 이 구역의 인싸
                                </p>
                                <p>
                                    엉뚱하지만, 용감무쌍한 '언어의 개척자'로 통하며 게임을 뒤흔드는 오답과 솔직함의 환장 콜라보로 명실상부 지락실의 MVP로 거듭난다.
                                </p>
                                <p>간혹 예고없이 깨어나는 미친 천재성을 보여준다</p>
                            </div>
                        </div>
                    </div>
                    <div class="character3">
                        <div class="ch-img">
                            <img src="images/character/member3_1.jpg" alt="시즌1 이은지">
                            <img src="images/character/member3_2.jpg" alt="시즌2 이은지">
                            <img src="images/character/member3_3.jpg" alt="시즌3 이은지">
                        </div>
                        <div class="ch-description">
                            <p class="ch-name">이영지</p>
                            <p>소속: 우주 용사</p>
                            <p>특징: 불나방 용사</p>
                            <p class="ch-highlight">영석이 형 기선제압용 ‘사자후’</p>
                            <div class="ch-story">
                                <p>전투력 MAX, 공격력 MAX, 생명력... 측정 불가?! 전무후무한 예능 사기캐</p>
                                <p>
                                    지구 용사 대표 무한 에너자이저로 어디서든 당당하게 걷기 시전하다가도, FEEL 받으면 맨땅에 드러눕는 파격 행보를 보여준다.
                                </p>
                                <p>
                                    대중들이 사랑하는 최신 유행이라면 자다가도 벌떡 일어날 세상 두려울 게 없는 MZ대표 행동대장<br>
                                    하지만 최근 그녀가 모르는 밈이 존재한다는 소문이 돌기도 하는데...
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="character4">
                        <div class="ch-img">
                            <img src="images/character/member4_1.jpg" alt="시즌1 이은지">
                            <img src="images/character/member4_2.jpg" alt="시즌2 이은지">
                            <img src="images/character/member4_3.jpg" alt="시즌3 이은지">
                        </div>
                        <div class="ch-description">
                            <p class="ch-name">안유진</p>
                            <p>소속: 우주 용사</p>
                            <p>특징: 욕망 용사</p>
                            <p class="ch-highlight">‘욕망’ 속으로 Love Dive!</p>
                            <div class="ch-story">
                                <p>
                                    동년배보다 깊고 진한 ‘토종 입맛’ 뽐내며 먹을 것 앞에서만큼은 능력치 만렙 찍는 인생 N회차 막내<br>
                                    순박 댕댕미로 엔딩요정도 놓치지 않는다.
                                </p>
                                <p>AI도 울고 갈 타고난 지략가이며 물불 안가리고 달려드는 승부욕까지, 완벽한 '육각형' 올라운더 요원</p>
                                <p>단서 하나만 주어져도 바로 추리에 돌입하며 '안광 가득한 사슴같은 눈망울'로 모두를 홀린 후 게임 승리를 위한 집중 공략이 시작된다</p>
                            </div>
                        </div>
                    </div>
                    <div class="character5">
                        <div class="ch-img">
                            <img src="images/episode/arms_torong1.png" alt="시즌1 토롱이">
                            <img src="images/episode/arms_torong2.png" alt="시즌2 토롱이">
                            <img src="images/episode/arms_torong3.png" alt="시즌3 토롱이">
                        </div>
                        <div class="ch-description">
                            <p class="ch-name">토롱이(옥 암스토롱)</p>
                            <p>소속: 우주떡집</p>
                            <p>특징: 메인 빌런</p>
                            <p class="ch-highlight"></p>
                            <div class="ch-story">
                                <p>달 뒷면에 있는 옥황상제 직영 우주휴게소 내 점포인 '우주떡집'의 하나뿐인 직원 겸 전속모델</p>
                                <p>
                                    옥황상제의 꼰대짓과 고강도의 업무를 혼자 처리하는 것을 견디지 못해 사표를 낸 뒤 당근 로켓을 타고 지구로 토끼게 된다.<br>
                                    그리고 이를 알게된 옥황상제가 토롱이의 현상금을 걸게 되고 뿅뿅 지구오락실 시리즈 메인 스토리의 주축 담당 마스코트 캐릭터
                                </p>
                                <p>지구용사들에게 복수하려고 캐리어를 들고 튀는 등, 모습을 볼 때 마냥 당하기만 하는 호구는 아닌듯?</p>
                            </div>
                        </div>
                    </div>
                    <div class="character6">
                        <div class="ch-img">
                            <img src="images/character/character6_1.jpg" alt="시즌3 철용이 1">
                            <img src="images/character/character6_2.png" alt="시즌3 철용이 2">
                            <img src="images/character/character6_3.png" alt="시즌3 철용이 3">
                        </div>
                        <div class="ch-description">
                            <p class="ch-name">철용이</p>
                            <p>소속: 우주떡집</p>
                            <p>특징: 전직 에이전트F</p>
                            <p class="ch-highlight"></p>
                            <div class="ch-story">
                                <p>뿅뿅 지구오락실 시즌3에서 첫 등장.</p>
                                <p>
                                    옥황상제가 토롱이를 쫓기 위해 지구에 배치한 '에이전트 F'라는 비밀요원으로, 아부다비 지부에서 지락이들과 접선하여 식사 대접, 트레이닝 보조 등 여러 방면으로 지락이들을 서포트해준다.<br>
                                    흥이 많고 까불거리는 토롱이와 다르게 상당히 내향적이다.
                                </p>
                                <p>사실 토롱이의 첩자이며, 지락이들의 뒤통수를 친 후 지락이들의 물건을 훔쳐 토롱이와 함께 리스본으로 도망간다.</p>
                            </div>
                        </div>
                    </div>
                    <div class="character7">
                        <div class="ch-img">
                            <img src="images/character/character7_1.png" alt="시즌1 옥황상제">
                            <img src="images/character/character7_2.png" alt="시즌2 옥황상제">
                            <img src="images/character/character7_3.png" alt="시즌3 옥황상제">
                        </div>
                        <div class="ch-description">
                            <p class="ch-name">옥황상제</p>
                            <p>소속: 우주떡집</p>
                            <p>특징: </p>
                            <p class="ch-highlight"></p>
                            <div class="ch-story">
                                <p>우주용사 지락이들에게 토롱이를 잡으라고 의뢰하는 달 뒷면 우주휴게소의 주인</p>
                                <p>지락이들이 토롱이를 잡으면 상금을 주며, 토롱이를 잡은 후 지락이들에게 휴가를 보내주기도 했다.</p>
                                <p>토롱이와 철용이와 달리 직접 등장하지는 않는다</p>
                            </div>
                        </div>
                    </div>
                    <div class="character8">
                        <div class="ch-img">
                            <img src="images/character/member4_1.jpg" alt="시즌1 ">
                            <img src="images/character/character8_2.jpg" alt="시즌2 사슴모자">
                            <img src="images/character/character8_3.jpg" alt="시즌3 수수께끼 노인">
                        </div>
                        <div class="ch-description">
                            <p class="ch-name">?</p>
                            <p>소속: </p>
                            <p>특징: 수수께끼 노인</p>
                            <p class="ch-highlight"></p>
                            <div class="ch-story">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="characters">
                    <div class="earth-hero">
                        <div class="character1"></div>
                        <div class="character2"></div>
                        <div class="character3"></div>
                        <div class="character4"></div>
                        <p>EARTH HERO</p>
                    </div>
                    <div class="space-tteok-employee">
                        <p>SPACE-TTEOK EMPLOYEE</p>
                        <div class="character5"></div>
                        <div class="character6"></div>
                        <div class="character7"></div>
                        <div class="character8"></div>
                    </div>
                </div>
            </div>
        </section>
        <section class="gallery-container">
            <h3>GALLERY</h3>
            <ul class="gallery-box"></ul>
        </section>
        <footer>
            FOOTER 영역 입니다....
        </footer>
    </div>
    <script>
        $(function(){
            /* 변수 선언 */
            let duration  = 500; // 스크롤양
            let device_width = $(window).width(); // 화면 너비
            let device_height = $(window).height(); // 화면 높이
            let scrollTop = $(this).scrollTop(); // 스크롤 위치
            
            const $section = $('.episode-container');
            const $inner = $section.find('.episode-inner');
            const $track = $section.find('.episode-flex');
            let section_info = $('section').map(function(){
                let data = {};
                data['top'] = $(this).offset().top;
                data['height'] = $(this).innerHeight();
                data['end'] = data.top + data.height;
                return data;
            });
            let prologue_box_top = $('.prologue-box').position().top; // 프롤로그 내용 시작 위치
            /* 화면 초기화 (새로고침 했을 때) */
            reset();
            function reset(){
                // $(window).scrollTop(0);
                // 프롤로그 내용 크기 커지면서 나타나기
                $(".prologue-box>.logo, .prologue-box>p").css({ transform: `scale(1)`, opacity: 1 });
                updateSectionMetrics();
                onScroll();
            }
            // 메뉴 나타나기, 사라지기
            /* 메뉴 버튼 토글 이벤트 */
            let gnb = $('#gnb');
            $('#menu-btn').click(function(event){
                event.preventDefault();
                let target = $(this);
                if(!target.hasClass('active')){
                    target.find('a').text('BACK');
                    gnb.show().stop().animate({height: '100vh', opacity: 1}, 200);
                }else{
                    target.find('a').text('MENU');
                    gnb.css({height: 0, opacity: 0}).hide();
                }
                $(this).toggleClass('active');
            });
            gnb.find('a').click(function(){
                gnb.css({height: 0, opacity: 0}).hide();
            });
            // 영상 스킵하면 프롤로그로 넘어가기 (영상 끝나면 자동으로 넘어가기)
            // 영상 일시정지, 소리 켜기 버튼 만들기
            /* video-container */
            $('.skip-btn').click(function(){
                let skip = confirm('영상을 스킵하시겠습니까?');
                if(skip){
                    let offset = $('.prologue-container').offset();
                    $("html, body").animate({scrollTop: offset.top},400);
                    $("html, body").css({'overflow-y': 'auto'});
                }
            });
            /* scroll event */
            $(window).on('scroll', function () {
                scrollTop = $(this).scrollTop();
                // 프롤로그 오브젝트 스크롤하면 움직이기
                // 스크롤하면 에피소드에 오브젝트 움직이기
                // 에피소드에 글자 스크롤에 따라 움직이기
                /* prologue-container */
                if(scrollTop < section_info[0].end){ // 스크롤이 프롤로그 길이만큼 내려갈때동안 내용 사라지기
                    let progress = (section_info[0].end - scrollTop) / section_info[0].height; // 진행도(1 > 0)
                    progress = Math.min(Math.max(progress, 0), 1);
                    let move = Math.min(prologue_box_top+scrollTop - section_info[0].top, section_info[0].height);

                    $('.prologue-box').css({ // 프롤로그 내용 중앙에 배치 & 사라지기
                        top: prologue_box_top + move,
                        opacity: progress,
                        transition: '.5s'
                    })
                    $(".prologue-box>.logo").css({ // 프롤로그 로고 사라지기
                        transform: `scale(${progress})`,
                    });
                    let yPos = 50 - 50*progress;
                    $(".prologue-bg>div").each(function(index){ // 오브젝트 사라지기 (움직이는 것 추가 필요)
                        $(this).css({
                            opacity: progress,
                        })
                    })
                }
                /* episode-container */
                onScroll();
            });

            function updateSectionMetrics() {
                // 트랙의 실제 가로 총길이
                const trackWidth = $track.get(0).scrollWidth;

                // 섹션 높이 = (가로총길이 - 뷰포트너비) + 뷰포트높이
                // 이렇게 해야 사용자가 세로로 스크롤할 때, 그 구간 동안 가로 이동이 완주됨
                const sectionHeight = (trackWidth - device_width) + device_height;
                $section.height(sectionHeight);

                // 스크롤 시 사용할 값 저장
                $section.data('trackWidth', trackWidth);
                $section.data('maxX', Math.max(0, trackWidth - device_width));
            }

            function onScroll() {
                const secTop = $section.offset().top;
                const secH = $section.outerHeight();
                const inView = scrollTop >= secTop && scrollTop <= secTop + secH;

                if (!inView) return; // 스크롤 범위 밖이면
                const viewportH = $(window).height();
                const maxX = $section.data('maxX') || 0;
                const scrolledIn = scrollTop - secTop; // 섹션 진입 후 진행된 세로 스크롤량
                const progress = Math.min(Math.max(scrolledIn / (secH - viewportH), 0), 1); // 진행도(0 > 1), 그에 따른 가로 이동량
                const translateX = - (maxX * progress);
                $track.css('transform', `translateX(${translateX}px)`); // 가로 이동 적용
            }
            /* characters-container */
            // 마우스 클릭하면 캐릭터 상세 설명 나타나기(캐릭터 목록 아래로 배치)
            $('.characters>div>div').click(function(){
                let ch_num = $(this).attr('class').split(" ")[0];
                $('.characters>div>div').removeClass('active'); // 활성 초기화
                $('.character-info>div').css({display: 'none'}); // 활성 초기화
                $(this).addClass('active'); // 활성화
                $('.character-info').addClass('active'); // 활성화
                $('.characters>div>div').css({height: '100px', width: '100%'}); // 캐릭터 크기 변경
                $(`.character-info>.${ch_num}`).css({display: 'flex'});
                $('.character-info').show().stop().animate({height: '600px'}, 'slow');
            });
            // 뒤로가기 버튼 클릭 시 캐릭터 설명창 사라지기
            $('#close-btn').click(function(event){
                event.preventDefault();
                $('.characters>div>div').removeClass('active'); // 활성 초기화
                $(`.character-info>div`).css({display: 'none'}); // 활성 초기화
                $('.character-info').removeClass('active'); // 비활성화

                $('.characters>div>div').css({height: '', width: ''}); // 캐릭터 크기 변경
                $('.character-info').stop().animate({height: '0'}, 'slow', function(){
                    $(this).hide();
                });
            });
            // 갤러리 사진 나타나기(스크롤하면 바뀌기)
            for(let i=1;i<=51;i++){
                let img = $('<img>').attr('src', `images/gallery/${i}.jpg`).attr('alt', `현장 포토 ${i}`);
                let li = $('<li>').attr('class', 'gallery-img');
                img.appendTo(li);
                li.appendTo($(('.gallery-box')));
            }
            
        });
    </script>
</body>
</html>